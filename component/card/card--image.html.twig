{# Card Footer #}

{# add library #}
{{ attach_library('cua_theme/card') }}

{# render image or icon #}
{% if card_image or icon %}
        <div class="card-header {{ text_alignment ~ ' ' ~ padding }} g-0 p-1">
            {% if card_image or link_title and icon is empty %}
                {# image #}
                {% for item in content.field_image['#items'] %}
                    {% set image = {
                        '#theme':      'image_style',
                        '#style_name': 'webp',
                        '#attributes': { class: 'card-img-top img-fluid w-100' },
                        '#uri':        item.entity.uri.value,
                        '#alt':        item.alt,
                        '#width':      item.width,
                        '#height':     item.height
                    } %}
                    {# check if link is active #}
                    {% if link_title is not empty %}
                        <a class="block-link" href="{{ link_url }}" aria-label="{{ link_title }}">
                       <div role="img" class="card-img {{ image_size ~ ' ' ~ padding }} img-hover-effect w-100" aria-label="{{ item.alt }}">
                    {% else %}
                        <div role="img" class="card-img {{ image_size ~ ' ' ~ padding }} w-100" aria-label="{{ item.alt }}">
                    {% endif %}
                    <figure>
                        {{ image }}
                        <figcaption class="{{ visibility }}">
                            <h6 class="figcaption text-center bold my-3 px-3">{{ item.alt }}</h6>
                        </figcaption>
                    </figure>
                    </div>
                    {# check if link is active #}
                    {% if link_title is not empty %}
                        </a>{# ignore error #}
                    {% endif %}
                {% endfor %}
            {% elseif icon is not empty %}
                {# icon #}
                <span class="pt-3 px-3" style="color: {{ icon_color }}">
                  <i class="{{ icon ~ ' ' ~ icon_size }}"></i>
                </span>
            {% else %}
                {# empty #}
            {% endif %}
        </div>
    {% else %}
        {# empty #}
    {% endif %}