{# Title Macro #}

{# Import the macro file #}
{# {% import '@cua_theme/component/macros/title_macros.html.twig' as titleMacros %} #}

{# Call the macro and pass the necessary variables #}
{# {{ titleMacros.render_title(label, title_prefix, title_suffix, center_content, text_alignment, text_color, padding) }} #}

{# Content #}
{% macro render_title(label, title_prefix = '', title_suffix = '', center_content = null, text_alignment = null, text_color = null, padding = null, hide_from_screen_readers = false, links = []) %}

    {# Define Title Classes #}
    {% set title_classes = [
        'display-4 card-text lead title',
        center_content ?: null,
        text_alignment ?: null,
        text_color ?: null,
        padding ?: null,
    ] | filter(v => v) | join(' ') %}

    {# Define Title Link Classes #}
    {% set title_link_classes = [
        'title-link',
        text_color ?: null,
    ] | filter(v => v) | join(' ') %}

    {{ title_prefix ?: '' }}

    {% if label is not empty %}
        {% if links|length %}
            {% set firstLink = links[0] %}
        <a class="{{ title_link_classes }}" href="{{ firstLink.url }}"
           title="{{ firstLink.title }}"{% if hide_from_screen_readers %} aria-hidden="true"{% endif %}>
            <{{ hide_from_screen_readers ? 'div' : 'h2' }} role="heading" aria-level="3" class="{{ title_classes }}">
            {{ label }}
            </{{ hide_from_screen_readers ? 'div' : 'h2' }}>
            </a>
        {% else %}
            <{{ hide_from_screen_readers ? 'div' : 'h2' }} role="heading" aria-level="3" class="{{ title_classes }}">
            {{ label }}
            </{{ hide_from_screen_readers ? 'div' : 'h2' }}>
        {% endif %}
    {% endif %}

    {{ title_suffix ?: '' }}

{% endmacro %}
